<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="pico/pico.min.css">
  <title>SuperMarquee Generator</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/themes/prism.css" integrity="sha512-jtWR3pdYjGwfw9df601YF6uGrKdhXV37c+/6VNzNctmrXoO0nkgHcS03BFxfkWycOa2P2Nw9Y9PCT9vjG9jkVg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    .preview {
      background-color: #8089ff;
      color: white;
      height: 256px;
      position: fixed;
      top: 0;
      color: white;
      z-index: 100;
      font-size: 148px;
      width: 100%;
      filter: drop-shadow(0px 0px 4px #444);
    }

    .main {
      margin-top: 292px;
    }

    h5 {
      margin-bottom: 12px!important;
    }
    button {
      background-color: #8089ff!important;
    }

    [type=radio]:checked {
      border-color: #8089ff!important;
    }

    [role=link], a {
      color: #8089ff!important;
    }

    :is(button,input[type=submit],input[type=button],[role=button]).secondary, input[type=reset]
    {
      color: white!important;
    }

  </style>
</head>
<body>
<div id="preview"
     class="preview">
</div>
<div class="main">
  <main class="container">
    <article>
      <form id="form-editor">
        <h5>Example Settings</h5>
        <p style="margin-bottom: 0">Press buttons below to see some example settings. Find more fantastic examples in our <a href="https://superplug.in/supermarquee#showcase" target="_blank">showcase</a>.</p>
        <div class="grid" style="margin-top: 12px">
          <button data-type="example-setting"
                  data-value="default"
                  type="button">Default</button>
          <button data-type="example-setting"
                  data-value="rtl"
                  type="button">RTL</button>
          <button data-type="example-setting"
                  data-value="starwars"
                  type="button">Starwars</button>
          <button data-type="example-setting"
                  data-value="appearing"
                  type="button">Appearing</button>
        </div>
        <h5>Customization</h5>
        <p style="margin-bottom: 12px">Use form elements below to customize SuperMarquee. Have a look at the <a href="https://superplug.in/supermarquee/docs" target="_blank">documentation</a> to find out all possibilities of SuperMarquee.</p>
        <label for="content">Content</label>
        <input type="text"
               id="content"
               name="content"
               placeholder="SuperMarquee By SuperPlug.in Is Super !!!" />
        <fieldset>
          <legend>Type</legend>
          <div class="grid">
            <label for="type-horizontal">
              <input type="radio"
                     id="type-horizontal"
                     name="type"
                     value="horizontal" checked>
              Horizontal
            </label>
            <label for="type-vertical">
              <input type="radio"
                     id="type-vertical"
                     name="type"
                     value="vertical">
              Vertical
            </label>
          </div>
        </fieldset>
        <fieldset>
          <legend>Direction</legend>
          <div class="grid">
            <label for="type-ltr">
              <input type="radio"
                     id="type-ltr"
                     name="direction"
                     value="ltr" checked>
              Left-To-Right
            </label>
            <label for="type-rtl">
              <input type="radio"
                     id="type-rtl"
                     name="direction"
                     value="rtl">
              Right-To-Left
            </label>
            <label for="type-btt">
              <input type="radio"
                     id="type-btt"
                     name="direction"
                     value="btt" disabled>
              Bottom-To-Top
            </label>
            <label for="type-ttb">
              <input type="radio"
                     id="type-ttb"
                     name="direction"
                     value="ttb" disabled>
              Top-To-Bottom
            </label>
          </div>
        </fieldset>
        <fieldset>
          <input type="hidden"
                 id="speed"
                 name="speed"
                 value="0.1" />
          <legend>Speed</legend>
          <div class="grid">
            <button data-type="speed-preset"
                    data-value="superslow"
                    type="button">Superslow</button>
            <button data-type="speed-preset"
                    data-value="slow"
                    type="button">Slow</button>
            <button data-type="speed-preset"
                    data-value="medium"
                    type="button">Medium</button>
            <button data-type="speed-preset"
                    data-value="fast"
                    type="button">Fast</button>
            <button data-type="speed-preset"
                    data-value="superfast"
                    type="button">Superfast</button>
          </div>
          <p>
            <mark><small>Either use presets by buttons above or customize the speed value using the slider below.</small></mark>
          </p>
          <label for="speed-custom-range">&nbsp;
            <input type="range"
                   min="0"
                   max="0.75"
                   value="0.125"
                   step="0.001"
                   id="speed-custom-range"
                   name="speed-custom-range" />
          </label>
        </fieldset>
        <fieldset>
          <legend>Mode</legend>
          <div class="grid">
            <label for="mode-continuous">
              <input type="radio"
                     id="mode-continuous"
                     name="mode"
                     value="continuous" checked>
              Continuous
            </label>
            <label for="mode-gapped">
              <input type="radio"
                     id="mode-gapped"
                     name="mode"
                     value="gapped">
              Gapped
            </label>
            <label for="mode-pingpong">
              <input type="radio"
                     id="mode-pingpong"
                     name="mode"
                     value="pingpong">
              Ping-Pong
            </label>
          </div>
        </fieldset>
        <label for="spacer">Spacer&nbsp;<small>- Spacer content used in continuous mode</small></label>
        <input type="text"
               id="spacer"
               name="spacer"
               placeholder="&amp;nbsp;" />
        <fieldset>
          <legend>Position</legend>
          <div class="grid">
            <label for="position-custom">
              <input type="radio"
                     id="position-custom"
                     name="position"
                     value="custom" checked>
              Custom
            </label>
            <label for="position-fixedTop">
              <input type="radio"
                     id="position-fixedTop"
                     name="position"
                     value="fixedTop">
              Fixed Top
            </label>
            <label for="position-fixedBottom">
              <input type="radio"
                     id="position-fixedBottom"
                     name="position"
                     value="fixedBottom">
              Fixed Bottom
            </label>
          </div>
        </fieldset>
        <fieldset>
          Perspective
        </fieldset>
        <fieldset>
          Z
          <label for="perspective.z">
            <input type="range"
                   id="perspective.z"
                   name="perspective.z"
                   min="0"
                   max="1200"
                   value="0" />
          </label>
        </fieldset>
        <fieldset>
          Transform Origin X (%)
          <label for="perspective.originX">
            <input type="range"
                   id="perspective.originX"
                   name="perspective.originX"
                   min="0"
                   max="100"
                   value="50" />
          </label>
        </fieldset>
        <fieldset>
          Transform Origin Y (%)
          <label for="perspective.originY">
            <input type="range"
                   id="perspective.originY"
                   name="perspective.originY"
                   min="0"
                   max="100"
                   value="50" />
          </label>
        </fieldset>
        <fieldset>
          Rotate X (%)
          <label for="perspective.rotateX">
            <input type="range"
                   id="perspective.rotateX"
                   name="perspective.rotateX"
                   min="0"
                   max="100"
                   value="0" />
          </label>
        </fieldset>
        <fieldset>
          Rotate Y (%)
          <label for="perspective.rotateY">
            <input type="range"
                   id="perspective.rotateY"
                   name="perspective.rotateY"
                   min="0"
                   max="100"
                   value="0" />
          </label>
        </fieldset>
        <fieldset>
          Rotate Z (%)
          <label for="perspective.rotateZ">
            <input type="range"
                   id="perspective.rotateZ"
                   name="perspective.rotateZ"
                   min="0"
                   max="100"
                   value="0" />
          </label>
        </fieldset>
        <fieldset>
          <label for="pauseonhover">
            <input type="checkbox"
                   id="pauseonhover"
                   name="pauseonhover"
                   role="switch">
            Pause on hover
          </label>
        </fieldset>
        <h5>Code Generation</h5>
        <p style="margin-bottom: 12px;">Use buttons below to generate source of your created SuperMarquee instance.</p>
        <div class="grid">
          <button type="button"
                  data-type="code-generate"
                  data-value="js"
                  data-target="modal-code"
                  onclick="">Vanilla JS</button>
          <button type="button"
                  data-type="code-generate"
                  data-value="jq"
                  data-target="modal-code"
                  onclick="">jQuery</button>
          <button type="button"
                  data-type="code-generate"
                  data-value="wc"
                  data-target="modal-code"
                  onclick="">Web Component</button>
        </div>
      </form>
    </article>
  </main>
</div>

<footer class="container">
  <small>&copy; by superplug.in - a sub-division of <a href="https://aheadware.com">aheadware GmbH</a> • <a href="https://aheadware.com/imprint.php">Imprint</a></small>
</footer>

<!-- Modal -->
<dialog id="modal-code">
  <article>
    <a href="#close"
       aria-label="Close"
       class="close"
       data-target="modal-code"
       onClick="toggleModal(event)">
    </a>
    <h5>Generated code</h5>
    <div>
      <pre><code class="language-javascript" id="generated-code">
      </code></pre>
    </div>
    <footer>
      <a href="#cancel"
         role="button"
         class="secondary"
         data-target="modal-code"
         onClick="toggleModal(event)">
        Cancel
      </a>
    </footer>
  </article>
</dialog>
<script src="https://cdn.jsdelivr.net/npm/sp-supermarquee@2.0.0/dist/SuperMarquee.min.js"></script>
<script src="pico/modal.min.js"></script>
<script>
  window.onload = function()
  {
    let sm = new SuperMarquee( document.getElementById( 'preview' ) ),
        currentOpts = {},
        self = this;

    self.updatePreview = function()
    {
      let fd = new FormData( document.getElementById( 'form-editor' ) ),
          p = { "z" : 0, "originX" : 50, "originY" : 50, "rotateX" : 0, "rotateY" : 0, "rotateZ" : 0 },
          opts = Object.fromEntries( fd );

      if ( "on" === opts.pauseonhover )
      {
        opts.pauseonhover = true;
      }
      else
      {
        opts.pauseonhover = false;
      }

      // Perspective
      for ( let pKey in p )
      {
        p[ pKey ] = document.getElementById( 'perspective.' + pKey ).value;
        delete opts[ 'perspective.' + pKey ];
      }
      delete opts[ 'speed-flag' ];
      opts.perspective = JSON.stringify( p );

      sm.destroy();
      sm = new SuperMarquee( document.getElementById( 'preview' ), opts );

      currentOpts = opts;
    };

    document.querySelectorAll( '[data-type="speed-preset"]' ).forEach( ( btn ) =>
    {
      btn.addEventListener( 'click', ( e ) => {
        document.getElementById( 'speed' ).value = btn.getAttribute( 'data-value' );
        self.updatePreview();
        document.getElementById( 'speed-custom-range' ).value = sm.getScrollSpeed();
      });
    });

    document.querySelectorAll( '[data-type="example-setting"]' ).forEach( ( btn ) =>
    {
      btn.addEventListener( 'click', ( e ) =>
      {
        document.getElementById( 'form-editor' ).reset();

        switch ( btn.getAttribute( 'data-value' ) )
        {
          case 'default':
            // Nothing to set
          break;

          case 'rtl':
            document.getElementById( 'content' ).value = 'שכל לחיבור קרימינולוגיה אנתרופולוגיה אם. בה כתב לחבר וכמקובל, ב שנתי רפואה ויקימדיה מתן, בה אחר ציור תרבות המדינה. ביוני המלחמה בלשנות מה ויש, ספרדית האנציקלופדיה כתב אם, בקר מדעי כימיה גם. שימושי האטמוספירה שמו על, גם אחר הטבע בחירות לעריכה. ראשי אנגלית תיקונים עזה של, על מפתח קסאם מיזמים זכר.';
            document.getElementById( 'type-rtl' ).checked = true;
          break;

          case 'starwars':
            document.getElementById( 'content' ).value = 'May the force be with you!';
            document.getElementById( 'type-vertical' ).checked = true;
            document.getElementById( 'perspective.z' ).value = 400;
            document.getElementById( 'perspective.rotateX' ).value = 60;
          break;

          case 'appearing':
            document.getElementById( 'perspective.z' ).value = 400;
            document.getElementById( 'perspective.rotateY' ).value = 40;
          break;
        }

        self.updatePreview();
      });
    });

    document.querySelectorAll( '[data-type="code-generate"]' ).forEach( ( btn ) =>
    {
      btn.addEventListener( 'click', ( e ) =>
      {
        e.preventDefault();

        let code = '';

        switch ( btn.getAttribute( 'data-value' ) )
        {
          case 'js':
            code = '// Vanilla javascript \n' +
                    'const sm = new SuperMarquee(\n' +
                    '  document.getElementById( \'your-element\' ),\n' +
                    '  ' + JSON.stringify( currentOpts, null, 4 ) + '\n' +
                    ');\n';
            break;

          case 'jq':
            code = '// jQuery \n' +
                    '$( \'#your-element\' ).supermarquee( \n' +
                    '  ' + JSON.stringify( currentOpts, null, 4 ) + '\n' +
                    ');\n';
            break;

          case 'wc':
            code = '// WebComponent (Angular, Svelte, React, Vue.js)\n' +
                    '&lt;super-marquee \n';
            for ( let oKey in currentOpts )
            {
              code += '  ' + oKey + '="' + currentOpts[ oKey ] + '"\n';
            }
            code += '>&lt;/super-marquee>;\n';
          break;
        }

        document.getElementById( 'generated-code' ).innerHTML = code;
        toggleModal( e );
        Prism.highlightAll();
      });
    });

    document.querySelectorAll( 'input' ).forEach( ( i ) =>
    {
      switch ( i.getAttribute( 'name' ) )
      {
        case 'type':
          i.addEventListener( 'change', (e) => {
            if ( 'horizontal' === document.querySelector( 'input[name="type"]:checked' ).value )
            {
              document.getElementById( 'type-ltr' ).disabled = false;
              document.getElementById( 'type-rtl' ).disabled = false;
              document.getElementById( 'type-ttb' ).disabled = true;
              document.getElementById( 'type-btt' ).disabled = true;
              document.getElementById( 'type-ltr' ).checked = true;
              document.getElementById( 'spacer' ).placeholder = '&nbsp;'
            }
            else
            {
              document.getElementById( 'type-ltr' ).disabled = true;
              document.getElementById( 'type-rtl' ).disabled = true;
              document.getElementById( 'type-ttb' ).disabled = false;
              document.getElementById( 'type-btt' ).disabled = false;
              document.getElementById( 'type-btt' ).checked = true;
              document.getElementById( 'spacer' ).placeholder = '<br />';
            }
          });
        break;

        case 'mode':
          i.addEventListener( 'change', (e) => {
            if ( 'continuous' === document.querySelector( 'input[name="mode"]:checked' ).value )
            {
              document.getElementById( 'spacer' ).disabled = false;
            }
            else
            {
              document.getElementById( 'spacer' ).disabled = true;
            }
          });
        break;

        case 'speed-custom-range':
          i.addEventListener( 'change', ( e ) =>
          {
            document.getElementById( 'speed' ).value = i.value;
          });
        break;
      }

      i.addEventListener( 'change', ( e ) => { self.updatePreview(); } )

    });
  };
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/prism.min.js" integrity="sha512-RDQSW3KoqJMiX0L/UBgwBmH1EmRYp8LBOiLaA8rBHIy+7OGP/7Gxg8vbt8wG4ZYd29P0Fnoq6+LOytCqx3cyoQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>
</html>
